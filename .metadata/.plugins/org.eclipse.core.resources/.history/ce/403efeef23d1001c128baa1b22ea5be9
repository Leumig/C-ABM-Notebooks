/*
 * Marca.c
 *
 *  Created on: 11 may. 2022
 *      Author: JUNMI
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "Marca.h"

int listarSectores(eMarca marcas[], int tam)
{
	int todoOk = 0;

		if(marcas != NULL && tam > 0)
		{
			printf("***  Lista de Marcas  ***\n");
			printf("  ID    Descripcion\n");
			printf("----------------------------\n");
			for(int i = 0; i < tam; i++){
				printf("   %4d    %10s\n", marcas[i].id, marcas[i].descripcion);   //Printeo
			}
			printf("\n\n");
			todoOk = 1;
		}
	 return todoOk;
}

int cargarDescripcionSector(eMarca marcas[], int tam, int id, char descripcion[])//El char descripcion es lo que voy a
{ 																					//cargar para devolverlo.
	int todoOk = 0;
	int indice;

	buscarSector(marcas, tam, id, &indice); //Busco el sector segun el id que recibo y cargo el indice

    if(descripcion != NULL && indice != -1) //Si indice es distinto de -1, es decir, si encontro indice ...
    {
		strcpy(descripcion, marcas[indice].marcas); // Le cargo a 'descripcion', el valor de la descripcion del
														   // sector que corresponde
		todoOk = 1;
    }

  return todoOk;
}

int buscarSector(eMarca marcas[], int tam, int id, int* pIndice) //El puntero indice es lo que voy a buscar para devolver
{
	int todoOk = 0;

	if(marcas != NULL && tam > 0 && pIndice != NULL)
	{
		*pIndice = -1;   //Seteamos que no se encontró coincidencia
		for(int i=0; i < tam; i++)  //Recorremos
		{
			if(marcas[i].id == id)  //Si la id del sector (puede ser 5000, 5001.. etc) es igual a la id recibida...
			{
				*pIndice = i;  //Cargo en indice la posición en donde se hayó la coincidencia (0, 1, 2, etc)
				break;  //Corto para que no siga buscando
			}
		}

		todoOk = 1;
	}

	return todoOk;
}

int validarSector(eMarca marcas[], int tam, int id)
{
	int esValido = 0;
	int indice;

	buscarSector(marcas, tam, id, &indice);

	if(!(indice == -1))
	{
		esValido = 1;
	}


	return esValido;
}
